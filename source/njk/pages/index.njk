{% extends 'layout.njk' %}

{% macro sliderSlot(block) %}
  {% set mix = 'slider__list' %}
  {% include 'blocks/' + block + '.njk' %}
{% endmacro %}

{% block main %}
  {% set mix = 'page-main__promo' %}
  {% include 'blocks/promo.njk' %}

  {% set mix = 'page-main__features' %}
  {% include 'blocks/features.njk' %}

  {% set slider = {
    mix: 'page-main__reviews',
    heading: data.reviews.heading,
    slot: sliderSlot('reviews'),
    togglers: {
      title: 'Отзыв',
      length: data.reviews.list | length
    }
  } %}
  {% include 'blocks/slider.njk' %}

  {% set mix = 'page-main__contacts' %}
  {% include 'blocks/contacts.njk' %}

  {% set mix = 'page-main__tariffs' %}
  {% include 'blocks/tariffs.njk' %}

  {% set mix = 'promo__markets' %}
  {% include 'blocks/markets.njk' %}
{% endblock%}
